<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Index</title>
    <script>
        function nactiSvatek() {
            document.getElementById("calendar").valueAsDate = new Date();
            nactiSvatekZData();
            fetch("http://localhost:8888/svatky").then(function(response) {
            response.text().then(function(text) {
            let obj = JSON.parse(text);
            document.getElementById("svatekdnes").innerHTML = obj.dnesniSvatek;
            document.getElementById("datum").innerHTML = obj.datumCesky;
            document.getElementById("svatekzitra").innerHTML = obj.zitrejsiSvatek;
            nactiDen();
        });
    });
}
        function nactiSvatekZData() {
            let date = document.getElementById("calendar").valueAsDate;
            fetch("http://localhost:8888/svatky?month=" + (date.getMonth() + 1) + "&day=" + date.getDate()).then(function(response) {
            response.text().then(function(text) {
            let obj = JSON.parse(text);
            document.getElementById("svatek").innerHTML = obj.dnesniSvatek;
        });
    });
}

        function nactiDen() {
            fetch("http://localhost:8888/denvtydnu").then(function(response) {
            response.text().then(function(text) {
            let obj = JSON.parse(text);
            document.getElementById("denvtydnu").innerHTML = obj.denVTydnuCesky;
        });
    });
}
//     function getData() {
//         let author = document.getElementById("authorname").value;
//         let headline = document.getElementById("postname").value;
//         let content = document.getElementById("status").value;
//         fetch("http://localhost:8888/socialposts?author=" + author + "&headline=" + headline + "&content=" + content).then(function(response) {
//         response.text().then(function(text) {
//         let obj = JSON.parse(text);
        
//         document.getElementById("authorlocation").innerHTML = obj.author;
//         document.getElementById("headlinelocation").innerHTML = obj.headline;
//         document.getElementById("contentlocation").innerHTML = obj.content;
//         document.getElementById("datelocation").innerHTML = obj.date;
//         document.getElementById("timelocation").innerHTML = obj.time;

//         });
//     });
// }
    </script>
</head>
<body onload="nactiSvatek()">
    <h1>Aplikace</h1>
    <input type="date" id="calendar" onchange="nactiSvatekZData()"> Má svátek <span id="svatek"></span><br><br>
    Dnes je <b id="denvtydnu"></b>, <b id="datum"></b> a má svátek <b id="svatekdnes"></b><br>
    Zítra má svátek <b id="svatekzitra"></b> <br>
    <img src="ruze.jpeg" alt="Růže"><br><br>

    <!-- <h1>Napište svůj status</h1>
    <h4>Jméno autora</h4>
    <input type="text" id="authorname"><br>
    <h4>Nadpis</h4>
    <input type="text" id="postname"><br>
    <h4>Obsah statusu</h4>
    <textarea type="textarea" id="status"></textarea>
    <button onclick="getData()">Post!</button>

    <span id="authorlocation"></span>
    <span id="headlinelocation"></span>
    <span id="contentlocation"></span>
    <span id="datelocation"></span>
    <span id="timelocation"></span> -->
</body>
</html>